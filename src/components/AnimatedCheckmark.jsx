import { useRef, useEffect } from "react";
import { motion, useInView, useAnimation } from "framer-motion";


const AnimatedCheckmark = () => {
  const ref = useRef(null);
  const isInView = useInView(ref, { once: true, amount: 0.5 });
  const controls = useAnimation();

  useEffect(() => {
    if (isInView) {
      controls.start({
        pathLength: 1,
        transition: { duration: 15, ease: "easeInOut" },
      });
    }
  }, [isInView, controls]);

  return (
    <div className="px-7 pb-7">
      <motion.svg
        ref={ref}
        className="w-30 h-auto"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 191.711 191.711"
        xmlSpace="preserve"
        fill="none"
        stroke="black"
        strokeWidth="2"
        strokeLinecap="round"
        strokeLinejoin="round"
        initial="hidden"
        animate="visible"
      >
        <motion.path
          d="M183.437 44.144c.515-13.523-.111-27.46-2.455-40.805-.324-1.852-2.521-3.477-4.373-3.33-15.371 1.216-30.744 1.347-46.156 1.352-2.877.001-5.264 2.911-4.379 5.749 4.525 14.524 2.354 27.786-15.46 24.377-9.892-1.893-26.232-11.45-16.602-22.657 1.556-1.811-.476-4.973-2.69-3.486-.399.268-.684.548-1.05.819-.158-.501-.379-.991-.779-1.384C85.399.753 78.628 1.232 73.24 1.058c-8.074-.26-16.166.263-24.24.336-3.166.029-4.812 2.839-4.347 5.706 1.302 8.027 2.495 16.148 4.061 24.177-.101.488.015.994.291 1.407 1.103 5.466 2.355 10.894 4.075 16.181-18.183-7.101-42.296 4.321-44.822 24.798-1.471 11.925 7.979 22.073 18.37 25.772 4.845 1.725 17.705 4.429 23.637.535-1.81 13.414-3.95 26.762-4.349 40.326-.076 2.588 2.089 4.223 4.441 4.441 6.924.645 13.786.09 20.702-.407 4.059-.291 8.968.388 13.453.272-.997 1.935-1.708 3.983-1.918 5.154-2.038 11.368-.537 25.95 8.026 34.44 10.52 10.431 26.547 9.394 37.393.626 8.066-6.52 13.575-21.459 10.199-32.305 14.692 2.363 37.993 5.461 42.387-8.051 2.83-8.699 1.271-19.725.869-28.674-.133-2.922.307-10.049-2.05-12.945.39-2.174-2.196-4.592-4.257-3.039-5.999 4.522-12.953 10.91-20.768 6.598a14.725 14.725 0 0 1-2.066-1.404c-.068-1.58-1.424-2.99-2.921-3.043-3.068-3.96-4.878-9.17-5.834-13.74-1.222-5.833-1.167-13.631 3.323-18.078 6.414-6.35 18.973 1.234 24.738 4.783 4.256 2.621 8.149-2.779 5.99-6.255.139-.087.293-.138.423-.242 6.084-4.938 5.129-17.425 5.391-24.283zM136.19 10.407c4.492-.016 8.982-.055 13.474-.123a673.164 673.164 0 0 1-15.278 19.804c2.48-5.468 3.11-12.399 1.804-19.681zm22.303-.352c2.234-.064 4.469-.095 6.703-.188 6.998-.291 7.252-3.949 8.039 2.984.143 1.247.234 2.499.334 3.751-.815-.345-1.74-.395-2.625.156C125.308 45.143 95.92 94.974 55.086 129.773c.135-3.534.26-7.072.399-10.604a2.157 2.157 0 0 0 1.797-.457c38.666-31.157 72.821-67.929 101.211-108.657zM111.462 42.19c.415-.293.697-.691.904-1.119 6.49.943 11.668-.322 15.588-3.054-22.344 27.057-46.506 52.24-72.34 76.454.121-4.414.176-8.826-.03-13.244.105-.067.212-.099.315-.187 20.518-17.538 33.211-43.084 55.563-58.85zM76.874 10.614c2.908.328 5.842.651 8.625.404-.73 1.121-1.178 2.257-1.497 3.395-.695-.409-1.549-.458-2.346.154-5.118 3.927-9.289 9.563-13.849 14.165a265.423 265.423 0 0 0-9.6 10.203c-.514-3.393-.98-6.791-1.452-10.189 2.95-2.493 5.841-5.06 8.704-7.638 2.144-1.93 4.314-3.823 6.561-5.631 1.893-1.523 4.292-2.336 4.854-4.863zm11.907 18.082c-.213.087-.429.136-.635.295-9.272 7.163-18.662 15.606-27.183 24.871-.119-.167-.172-.351-.327-.507a335.303 335.303 0 0 1-1.831-10.457c3.962-3.769 8.076-7.376 12.213-10.954 4.219-3.649 9.428-7.454 12.798-12.099.653 3.099 2.461 6.115 4.965 8.851zM69.178 10.13c-2.022 1.679-3.849 3.854-5.237 5.211-2.702 2.642-5.323 5.366-7.94 8.093-.599-4.367-1.194-8.737-1.833-13.105 5.002-.084 10.005-.188 15.01-.199zM17.676 72.107c1.6-7.91 7.693-12.715 14.881-14.727-1.74 3.236-3.277 6.66-5.044 9.681-2.94 5.027-5.825 10.009-8.252 15.271-1.61-3.09-2.31-6.642-1.585-10.225zm3.49 13.141c2.987-5.562 6.322-10.895 9.794-16.172 2.629-3.994 5.971-8.172 7.757-12.745 1.801-.112 3.595-.014 5.369.182-2.334 2.733-4.34 5.612-5.64 7.159-5.651 6.729-12.577 14.258-16.596 22.309-.225-.247-.473-.474-.684-.733zM53.1 93.375c-.594-1.797-2.619-2.69-4.478-2.405-2.873.441-4.861 1.902-8.014 1.938-3.939.045-7.856-1.002-11.575-2.195a16.073 16.073 0 0 1-4.153-2.06c.7-.894 1.406-1.783 2.084-2.693 3.45-4.632 7.241-9.009 10.965-13.42 4.15-4.915 9.367-9.323 13.859-14.09 1.081.455 2.137.949 3.099 1.545.177.109.358.12.537.2-7.592 9.071-14.229 18.791-18.891 28.934-.986 2.145 1.965 3.978 3.215 1.879C53.046 68.685 71.75 50.061 91.941 33.91c.524-.42.754-.944.861-1.488.197.157.415.291.616.445-18.986 15.227-34.051 35.693-48.74 54.905-1.3 1.7 1.496 3.765 2.924 2.256C64.668 71.993 79.53 52.597 98.767 36.664c.072-.059.09-.128.153-.19 1.731.959 3.481 1.738 5.213 2.415-7.77 4.139-14.557 14.54-19.2 20.108-10.01 12.005-19.849 24.188-29.708 36.322-.214-1.296-1.155-1.951-2.125-1.944zm33.306 41.619c-3.15-.555-6.64-.236-9.71-.102 20.714-16.318 39.664-35.33 57.408-54.921-.152 3.383.121 6.794.67 9.935.383 2.196.98 4.432 1.75 6.632-.539-.185-1.125-.248-1.618.007-7.181 3.711-13.325 11.854-19.56 17.11-9.199 7.754-19.085 14.488-28.94 21.339zm6.429 6.635c.561-1.224.509-2.677-.615-3.826a8.93 8.93 0 0 0-1.513-1.229c9.624-5.689 18.789-12.245 27.663-19.002 6.426-4.893 15.798-10.84 19.178-18.465 1.321 3.084 3.04 6.019 5.143 8.58-15.381 15.338-33.918 26.228-51.199 39.223.127-.611.267-1.221.328-1.844 1.432-.511 1.807-2.304 1.015-3.437zm37.01 19.633c-3.216 2.746-6.097 6.611-8.902 9.217-3 2.785-9.033 9.609-13.569 9.273-1.433-.105-1.731 2.197-.338 2.496 4.94 1.061 9.791-2.796 13.454-5.604 2.38-1.826 4.65-3.785 6.895-5.776-.873 1.758-1.875 3.448-3.076 4.94-6.938 8.625-17.567 8.515-26.259 2.851-.727-.474-1.311-1.083-1.899-1.687 6.215-4.069 12.429-8.127 18.722-12.09 4.39-2.765 10.492-5.845 14.185-10.07.396 2.021.783 4.054.812 6.188 0 .09-.025.174-.025.262zm28.83-15.082c2.836-3.725 6.135-7.021 9.567-10.254 1.536-1.445 3.28-2.902 4.989-4.41.021 3.567-.209 7.121-1.024 10.643-.644 2.775-6.429 3.775-13.532 4.021zm5.492-30.944c2.861-.855 5.596-2.289 8.041-4.146-.012 4.291.389 8.614.698 12.936-3.218 3.104-6.113 6.857-9.068 9.949-3.625 3.797-6.969 7.795-9.69 12.273-5.002-.016-10.244-.273-14.605-.48.094-.06.191-.09.283-.172 9.928-8.848 21.863-15.158 31.679-23.979 2.031-1.826-.595-5.133-2.886-3.739-11.01 6.698-22.452 15.843-31.249 25.263-.839.898-.513 1.972.216 2.535a203.814 203.814 0 0 0-3.584-.139c-1.477-1.167-3.497-.838-4.746.368-1.408.677-1.781 2.185-1.299 3.45-6.236 3.08-11.73 8.883-17.497 12.885-5.532 3.841-11.249 7.535-16.572 11.693-1.19-2.187-1.965-4.689-2.427-7.276 24.337-15.061 51.354-31.854 72.706-51.421zm-17.23-3.442c1.14.888 2.32 1.726 3.619 2.388.912.465 1.834.836 2.76 1.127-8.613 6.416-16.844 13.588-25.191 20.033-12.277 9.481-24.773 18.664-37.12 28.049a71.785 71.785 0 0 1-.314-6.383 61.915 61.915 0 0 1 .17-4.943c19.161-12.639 39.686-24.094 56.076-40.271zm2.404-52.425c-2.802.532-5.502 1.64-7.961 3.665-1.117.92-2.045 1.967-2.874 3.073-.817-.02-1.659.294-2.39 1.118-20.512 23.174-41.303 45.271-64.149 66.173-.621.568-.742 1.205-.602 1.781-5.507.351-10.997.83-16.512.789.008-.406.036-.811.046-1.218 45.297-30.543 76.762-77.982 119.077-112.384.029.505.063 1.011.094 1.516.197 3.298.4 6.694.525 10.13-4.757 3.783-8.662 8.749-12.807 13.171a208.011 208.011 0 0 1-12.447 12.186zm22.118 5.13a64.63 64.63 0 0 0-4.032-1.968c1.823-1.059 3.545-2.272 5.094-3.81.201-.2.41-.456.613-.672-.446 2.191-.971 4.354-1.675 6.45zm3.037-17.272c-1.597 2.435-2.492 5.32-4.188 7.755-1.781 2.556-4.256 4.479-6.979 5.931-2.286-.793-4.612-1.424-6.935-1.727a176.533 176.533 0 0 0 7.623-6.822c3.517-3.329 7.281-6.681 10.67-10.281a117.512 117.512 0 0 1-.191 5.144z"
          initial={{ pathLength: 0 }}
          animate={controls}
        />
      </motion.svg>
    </div>
  );
};

export default AnimatedCheckmark;
